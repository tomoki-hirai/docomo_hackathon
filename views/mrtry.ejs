<!doctype html>
<html lang="ja">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel='stylesheet' href='/stylesheets/main.css'>
  </head>
  <body>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/javascripts/main.js"></script>
  </body>
</html>
<!--Bootstrap４に必要なCSSとJavaScriptを読み込み-->
<header class="page-heading">
  <div class="container">
    <h1>government</h1>
  </div>
</header>
<ul class="nav nav-tabs nav-justified">
    <li class="nav-item">
      <a href="#tab1" class="nav-link navbar-default active" data-toggle="tab">立候補者</a>
    </li>
    <li class="nav-item">
      <a href="#tab2" class="nav-link navbar-default" data-toggle="tab">思想家</a>
    </li>
</ul>
<!--タブの中身-->
<div class="tab-content">
  <div id="tab1" class="tab-pane active">
    <!-- Page Content -->
    <div class="container-fluid">
      <!-- Team Members Row -->
      <div class="row">
        <div id = "text1"></div>
          <script>
            var imageurl = "images/"
              $.getJSON("http://ec2-18-224-8-138.us-east-2.compute.amazonaws.com:3000/userinfo?property_id=2", function(results) {
                count = 0
                for (var i = 0; i < results.length; i++){
                  count++
                  id=results[i].id;
                  pict=results[i].pict;
                  console.log(pict)
                  name=results[i].name;
                  good=results[i].good;
                  addr=results[i].addr;
                  document.getElementById("text1").innerHTML +=
                  '<div id=' + id + ' class="col-lg-4 col-sm-4 text-center mb-4">\
                    <img class="card img-fluid d-block mx-auto img-responsive" src="'+imageurl + pict + '">\
                    <div class="card-body"><h4 class="card-title">' + name + '    +' + good + '</h4>'
                  $.getJSON("http://ec2-18-224-8-138.us-east-2.compute.amazonaws.com:3000/userinfo/overview?id=" + id, function(call) {
                    commitment=call[0].commitment;
                    console.log(call[0].id)
                    if (call[0].id == 0) {
                      document.getElementById(call[0].id).innerHTML +=
                          '<p class="card-text">' + commitment +  ' #農業</p>\
                          <a href="#" class="btn btn-primary">詳細</a>\
                        </div>\
                      </div>'
                    } else if (call[0].id == 2) {
                      document.getElementById(call[0].id).innerHTML +=
                          '<p class="card-text">' + commitment +  ' #医療</p>\
                          <a href="#" class="btn btn-primary">詳細</a>\
                        </div>\
                      </div>'
                    } else{
                      document.getElementById(call[0].id).innerHTML +=
                        '<p class="card-text">' + commitment +  '</p>\
                        <a href="#" class="btn btn-primary">詳細</a>\
                      </div>\
                    </div>'
                  }
                  });
                  }
                });
          </script>
      </div>
    </div>
  </div>
  <div id="tab2" class="tab-pane">
    <div class="container-fluid">
      <!-- Team Members Row -->
      <div class="row">
        <div id = "text2"></div>
          <script>
              $.getJSON("http://ec2-18-224-8-138.us-east-2.compute.amazonaws.com:3000/userinfo?property_id=3", function(results) {
                for (var i = 0; i < results.length; i++){
                  id=results[i].id;
                  pict=results[i].pict;
                  console.log(pict)
                  name=results[i].name;
                  good=results[i].good;
                  addr=results[i].addr;
                  if (i=1) {
                    document.getElementById("text2").innerHTML +=
                    '<div id=' + id + ' class="col-lg-4 col-sm-4 text-center mb-4">\
                      <img class="card img-fluid d-block mx-auto img-responsive" src="'+imageurl + pict + '">\
                      <div class="card-body"><h4 class="card-title">' + name + '    +' + good + '' +'</h4>'
                  }
                  else {
                    document.getElementById("text2").innerHTML +=
                    '<div id=' + id + ' class="col-lg-4 col-sm-4 text-center mb-4">\
                      <img class="card img-fluid d-block mx-auto img-responsive" src="'+imageurl + pict + '">\
                      <div class="card-body"><h4 class="card-title">' + name + '    +' + good + '</h4>'
                  }
                  $.getJSON("http://ec2-18-224-8-138.us-east-2.compute.amazonaws.com:3000/userinfo/overview?id=" + id, function(call) {
                    commitment=call[0].commitment;
                    console.log(call[0].id)
                    document.getElementById(call[0].id).innerHTML +=
                        '<p class="card-text">' + commitment +  '</p>\
                        <a href="#" class="btn btn-primary">詳細</a>\
                      </div>\
                    </div>'
                  });
                  }
                });
          </script>
      </div>
    </div>
  </div>
</div>
